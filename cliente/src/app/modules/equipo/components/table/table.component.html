<div class="mat-elevation-z8">

    <mat-toolbar class="toolbar">
        <span class="spacer"></span>
        <button 
            mat-stroked-button 
            (click)="nuevoEquipo()">
            Nuevo Equipo
        </button>
    </mat-toolbar>

    <mat-table [dataSource]="dataSource">
    
        <ng-container 
            matColumnDef="{{ column.field }}" 
            *ngFor="let column of pColumns; let i = index">

            <mat-header-cell *matHeaderCellDef> {{ column.title }} </mat-header-cell>

            <mat-cell *matCellDef="let row"> 
                <span
                    *ngIf="column.field !== 'opciones';else opciones">
                    {{ row[column.field] }}
                </span>
                <ng-template #opciones>
                    <button 
                        mat-stroked-button 
                        class="editar"
                        color="primary"
                        (click)="editarEquipo(row)">
                        Editar
                    </button>
                    <div class="spacer"></div>
                    <button 
                        mat-stroked-button 
                        color="warn"
                        (click)="bajaEquipo(row)"
                        [disabled]="!row.activo">
                        Dar de baja
                    </button>
                </ng-template>
            </mat-cell>

        </ng-container>
    
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>

    <mat-toolbar class="toolbar-bottom">
    </mat-toolbar>

</div>